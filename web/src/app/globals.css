@import "tailwindcss";

/* Override Tailwind's dark variant to use .dark class instead of prefers-color-scheme */
@custom-variant dark (&:where(.dark, .dark *));

:root {
  --background: #ffffff;
  --foreground: #171717;
}

body {
  margin: 0;
  min-height: 100vh;
  background-color: var(--background);
  background-image:
    radial-gradient(circle at 12% 8%, rgba(79, 70, 229, 0.06), transparent 40%),
    radial-gradient(circle at 88% 92%, rgba(14, 165, 233, 0.08), transparent 52%),
    linear-gradient(120deg, rgba(252, 253, 255, 0.85), rgba(243, 248, 255, 0.60));
  color: var(--foreground);
  font-family: "Inter", "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, sans-serif;
  padding: 2.5rem 1.5rem;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

/* Map some light background utility shades to dark-friendly tints when .dark is active */
.dark .bg-emerald-50 { background-color: rgba(16, 185, 129, 0.08) !important; }
.dark .bg-rose-50 { background-color: rgba(244, 63, 94, 0.08) !important; }
.dark .bg-amber-50 { background-color: rgba(245, 158, 11, 0.08) !important; }
.dark .bg-sky-50 { background-color: rgba(14, 165, 233, 0.08) !important; }

/* ------- Role-based theming ------- */
:root {
  --accent: #4f46e5; /* default indigo-600 */
  --accent-2: #0ea5e9; /* default sky-500 */
  /* Layered surfaces for depth (light) */
  --surface-1: #ffffff;
  --surface-2: #f7fafc; /* slate-50-ish */
  --surface-3: #eff4f9; /* light tint */
  /* Hover tones (light) */
  --surface-hover: #f8fafc; /* subtle hover for generic surface */
  --surface-2-hover: #f1f5f9; /* slate-100-ish */
  --surface-3-hover: #e8eef5; /* slightly deeper hover */
  /* Border tone (light) */
  --border: rgba(226, 232, 240, 0.7); /* slate-200/70 */
  /* Back-compat alias */
  --surface: #ffffff; /* keep for existing usages */
}

/* Dark mode overrides for custom properties */
.dark {
  /* Core dark palette */
  --background: #0a0a0a;
  --foreground: #e5e7eb; /* slate-200 */
  /* Layered surfaces for depth (dark) */
  --surface-1: rgba(15, 23, 42, 0.92); /* slate-900 w/ glass */
  --surface-2: rgba(18, 27, 45, 0.90);
  --surface-3: rgba(22, 31, 50, 0.88);
  /* Back-compat + hover (dark) */
  --surface: var(--surface-1);
  --surface-hover: rgba(30, 41, 59, 0.95);
  --surface-2-hover: rgba(24, 31, 48, 0.92);
  --surface-3-hover: rgba(26, 35, 55, 0.90);
  /* Border tone (dark) */
  --border: rgba(51, 65, 85, 0.6); /* slate-700/60 */

  background-color: var(--background);
  background-image:
    radial-gradient(circle at top right, rgba(93, 102, 255, 0.18), transparent 40%),
    radial-gradient(circle at bottom left, rgba(21, 128, 170, 0.16), transparent 52%),
    linear-gradient(135deg, rgba(12, 14, 25, 0.96), rgba(2, 3, 10, 0.96));
}

/* Map roles to palettes via body classes */
body.theme-none { --accent: #64748b; --accent-2: #94a3b8; }
body.theme-producer { --accent: #16a34a; --accent-2: #22c55e; }
body.theme-factory { --accent: #2563eb; --accent-2: #38bdf8; }
body.theme-retailer { --accent: #f59e0b; --accent-2: #fb923c; }
body.theme-consumer { --accent: #9333ea; --accent-2: #f97316; }
body.theme-admin { --accent: #ef4444; --accent-2: #f59e0b; }

/* Background flourish per theme (LIGHT defaults) */
body.theme-none {
  background-image:
    radial-gradient(circle at 10% 10%, color-mix(in oklab, var(--accent) 10%, transparent), transparent 40%),
    radial-gradient(circle at 90% 85%, color-mix(in oklab, var(--accent-2) 12%, transparent), transparent 55%),
    linear-gradient(120deg, rgba(252, 253, 255, 0.90), rgba(242, 247, 255, 0.70));
}
body.theme-producer {
  background-image:
    radial-gradient(40vmax 40vmax at 12% 8%, color-mix(in oklab, #22c55e 18%, transparent), transparent 55%),
    radial-gradient(45vmax 45vmax at 88% 92%, color-mix(in oklab, #16a34a 16%, transparent), transparent 60%),
    linear-gradient(120deg, rgba(240,255,246,0.96), rgba(226,255,238,0.86));
    background-color: #f3fff7;
}

body.theme-factory {
  background-image:
    radial-gradient(circle at 12% 8%, color-mix(in oklab, var(--accent) 12%, transparent), transparent 42%),
    radial-gradient(circle at 88% 92%, color-mix(in oklab, var(--accent-2) 16%, transparent), transparent 56%),
    linear-gradient(120deg, rgba(250, 253, 255, 0.92), rgba(235, 245, 255, 0.72));
}
body.theme-retailer {
  background-image:
    radial-gradient(circle at 12% 8%, color-mix(in oklab, var(--accent) 12%, transparent), transparent 42%),
    radial-gradient(circle at 88% 92%, color-mix(in oklab, var(--accent-2) 16%, transparent), transparent 56%),
    linear-gradient(120deg, rgba(255, 252, 245, 0.92), rgba(255, 245, 230, 0.72));
}
body.theme-consumer {
  background-image:
    radial-gradient(circle at 12% 8%, color-mix(in oklab, var(--accent) 12%, transparent), transparent 42%),
    radial-gradient(circle at 88% 92%, color-mix(in oklab, var(--accent-2) 16%, transparent), transparent 56%),
    linear-gradient(120deg, rgba(252, 248, 255, 0.92), rgba(244, 238, 255, 0.72));
}
body.theme-admin {
  background-image:
    radial-gradient(circle at 12% 8%, color-mix(in oklab, var(--accent) 12%, transparent), transparent 42%),
    radial-gradient(circle at 88% 92%, color-mix(in oklab, var(--accent-2) 16%, transparent), transparent 56%),
    linear-gradient(120deg, rgba(255, 248, 248, 0.92), rgba(255, 240, 230, 0.72));
}

/* Background flourish per theme (DARK overrides) */
.dark body.theme-none {
  background-image:
    radial-gradient(circle at 86% 14%, color-mix(in oklab, var(--accent) 20%, transparent), transparent 40%),
    radial-gradient(circle at 12% 86%, color-mix(in oklab, var(--accent-2) 22%, transparent), transparent 54%),
    linear-gradient(135deg, rgba(15, 17, 25, 0.98), rgba(8, 10, 18, 0.98));
}
.dark body.theme-producer {
  background-image:
    radial-gradient(circle at 86% 14%, color-mix(in oklab, var(--accent) 24%, transparent), transparent 40%),
    radial-gradient(circle at 12% 86%, color-mix(in oklab, var(--accent-2) 28%, transparent), transparent 54%),
    linear-gradient(135deg, rgba(6, 18, 10, 0.98), rgba(3, 12, 6, 0.98));
}
.dark body.theme-factory {
  background-image:
    radial-gradient(circle at 86% 14%, color-mix(in oklab, var(--accent) 26%, transparent), transparent 40%),
    radial-gradient(circle at 12% 86%, color-mix(in oklab, var(--accent-2) 30%, transparent), transparent 54%),
    linear-gradient(135deg, rgba(8, 12, 28, 0.98), rgba(4, 8, 18, 0.98));
}
.dark body.theme-retailer {
  background-image:
    radial-gradient(circle at 86% 14%, color-mix(in oklab, var(--accent) 24%, transparent), transparent 40%),
    radial-gradient(circle at 12% 86%, color-mix(in oklab, var(--accent-2) 28%, transparent), transparent 54%),
    linear-gradient(135deg, rgba(22, 14, 8, 0.98), rgba(14, 9, 4, 0.98));
}
.dark body.theme-consumer {
  background-image:
    radial-gradient(circle at 86% 14%, color-mix(in oklab, var(--accent) 26%, transparent), transparent 40%),
    radial-gradient(circle at 12% 86%, color-mix(in oklab, var(--accent-2) 30%, transparent), transparent 54%),
    linear-gradient(135deg, rgba(18, 12, 28, 0.98), rgba(10, 6, 18, 0.98));
}
.dark body.theme-admin {
  background-image:
    radial-gradient(circle at 86% 14%, color-mix(in oklab, var(--accent) 26%, transparent), transparent 40%),
    radial-gradient(circle at 12% 86%, color-mix(in oklab, var(--accent-2) 30%, transparent), transparent 54%),
    linear-gradient(135deg, rgba(28, 12, 14, 0.98), rgba(18, 6, 8, 0.98));
}

/* Theme utilities */
.text-accent { color: var(--accent); }
.border-accent { border-color: var(--accent); }
.text-foreground { color: var(--foreground); }
.bg-surface { background-color: var(--surface); }
.bg-surface-1 { background-color: var(--surface-1); }
.bg-surface-2 { background-color: var(--surface-2); }
.bg-surface-3 { background-color: var(--surface-3); }
.border-surface { border-color: var(--border); }
.hover\:bg-surface:hover { background-color: var(--surface-hover); }
.hover\:bg-surface-1:hover { background-color: var(--surface-hover); }
.hover\:bg-surface-2:hover { background-color: var(--surface-2-hover); }
.hover\:bg-surface-3:hover { background-color: var(--surface-3-hover); }
.btn-primary {
  background-image: linear-gradient(90deg, var(--accent), var(--accent-2));
  color: #fff;
  box-shadow: 0 8px 20px color-mix(in oklab, var(--accent) 32%, transparent);
}
.btn-primary:hover { filter: brightness(1.05); }
.chip-soft {
  background-color: color-mix(in oklab, var(--accent) 12%, transparent);
  color: color-mix(in oklab, var(--accent) 85%, #0a0a0a);
}
.dark .chip-soft {
  background-color: color-mix(in oklab, var(--accent) 22%, transparent);
  color: color-mix(in oklab, var(--accent) 95%, #ffffff);
  border-color: color-mix(in oklab, var(--accent) 35%, transparent);
}

/* Interactive utilities for accent color */
.hover\:text-accent:hover { color: var(--accent); }
.hover\:border-accent:hover { border-color: var(--accent); }
.focus-outline-accent:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }

/* Group hover accent utilities */
.group:hover .group-hover\:text-accent { color: var(--accent); }
.group:hover .group-hover\:border-accent { border-color: var(--accent); }
